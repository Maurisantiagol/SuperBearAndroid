import{createEvent as e,is as r,withRegion as t,createStore as n,sample as o,guard as i,merge as a,createEffect as s,forward as u,combine as c,attach as d,restore as f}from"effector";function m(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function l(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function p(s){var{events:u,reset:c,target:d=e({name:"target",sid:"3pez5"},{name:"target",sid:"3pez5"})}=s;return r.unit(d)||v("target should be a unit"),c&&!r.unit(c)&&v("reset should be a unit"),t(d,(()=>{var e=Object.keys(u),r=Array.isArray(u)?[...e].fill(""):{},t=n(e.length,{name:"$counter",sid:"-dszn9a"}),s=n(r,{name:"$results",sid:"boz3x7"});t.reset(o({and:[d],or:{sid:"-8yzcn6"}})),s.reset(d),c&&(t.reset(o({and:[c],or:{sid:"-72suil"}})),s.reset(c));var f=function(e){var r=n(!1,{name:"$isDone",sid:"ucs7nc"}).on(u[e],(()=>!0)).reset(d);c&&r.reset(c),t.on(r,(e=>e-1)),s.on(u[e],((r,t)=>{var n=Array.isArray(r)?[...r]:function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?m(Object(t),!0).forEach((function(r){l(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({},r);return n[e]=t,n}))};for(var p of e)f(p);i({and:[{source:o({and:[s,a(Object.values(u),{name:"and",sid:"-l8g4ey"})],or:{name:"source",sid:"uf92v9"}}),filter:t.map((e=>0===e)),target:d}],or:{sid:"ciekm0"}})})),d}function v(e){throw new Error(e)}function y(t){var{if:n,then:o,else:a,source:s=e({name:"source",sid:"epke23"},{name:"source",sid:"epke23"})}=t,u=r.unit(n)||"function"==typeof n?n:e=>e===n;return o&&i({and:[{source:s,filter:u,target:o}],or:{sid:"9tug3k"}}),a&&i({and:[{source:s,filter:g(u),target:a}],or:{sid:"a9shb1"}}),s}function g(e){return r.unit(e)?e.map((e=>!e)):r=>!e(r)}function w(t){var n,o,{source:i,timeout:a,target:c}=t;if(!r.unit(i))throw new TypeError("source must be unit from effector");if(r.domain(i,{sid:"iu8yzo"}))throw new TypeError("source cannot be domain");if("number"!=typeof a||a<0||!Number.isFinite(a))throw new Error('timeout must be positive number or zero. Received: "'.concat(a,'"'));var d=null!=c?c:e({name:"tick",sid:"-xw52dh"}),f=s((e=>(clearTimeout(o),n&&n(),new Promise(((r,t)=>{n=t,o=setTimeout(r,a,e)})))),{name:"timerFx",sid:"m8kfsq"});return u({and:{from:i,to:f},or:{sid:"k4foqk"}}),u({and:{from:f.done.map((e=>{var{result:r}=e;return r})),to:d},or:{sid:"k76npd"}}),d}function b(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var o of t){var i=h(o);(r.store(o,{sid:"8mdztw"})||r.effect(o,{sid:"-gueih2"})||r.event(o,{sid:"-gueh0j"}))&&j(o,i),r.effect(o,{sid:"-jlpzbv"})&&k(o),r.domain(o,{sid:"-jjisyf"})&&(o.onCreateEvent((e=>j(e,"event"))),o.onCreateStore((e=>j(e,"store"))),o.onCreateEffect(k))}}function h(e){return r.store(e,{sid:"-j30z7b"})?"store":r.effect(e,{sid:"-j1dlf8"})?"effect":r.event(e,{sid:"-io6j6k"})?"event":r.domain(e,{sid:"-imj5eh"})?"domain":r.unit(e)?"unit":"unknown"}function j(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=t+A(e);e.watch((e=>{console.info("[".concat(r,"] ").concat(n),e)}))}function k(e){j(e.done,"effect",A(e)+"."),j(e.fail,"effect",A(e)+".")}function A(e){return e.compositeName&&e.compositeName.fullName?e.compositeName.fullName:e.shortName?e.shortName:e.name?e.name:""}function O(t){var{source:n,timeout:i,target:a=e({name:"target",sid:"-z2vw3w"},{name:"target",sid:"-z2vw3w"})}=t;if(!r.unit(n))throw new TypeError("source must be a unit from effector");if(!r.unit(a))throw new TypeError("target must be a unit from effector");var d=function(e){if(r.store(e,{sid:"-va560a"})||"function"==typeof e||"number"==typeof e)return e;throw new TypeError("'timeout' argument must be a function, Store, or a number. Passed \"".concat(typeof e,'"'))}(i),f=s((e=>{var{payload:r,milliseconds:t}=e;return new Promise((e=>{setTimeout(e,t,r)}))}),{name:"timerFx",sid:"-584o7j"});return o({and:[{source:c({and:[{milliseconds:d}],or:{name:"source",sid:"9rbdjo"}}),clock:n,fn:(e,r)=>{var{milliseconds:t}=e;return{payload:r,milliseconds:"function"==typeof t?t(r):t}},target:f}],or:{sid:"-wmj29s"}}),u({and:{from:f.doneData,to:a},or:{sid:"-vsadmx"}}),a}function E(e,t){var n,o=[],i=()=>!1;Array.isArray(e)?(o=e,i=t):Array.isArray(e.stores)&&(o=e.stores,i=e.predicate),n="function"==typeof i?i:r.store(i,{sid:"sid3ut"})?i.map((e=>r=>e===r)):e=>e===i;var a=c({and:[o],or:{name:"$values",sid:"h09uhg"}});return c({and:[n,a,(e,r)=>r.every(e)],or:{sid:"hfkdw9"}})}function z(e){for(var r=arguments.length,t=new Array(r>1?r-1:0),n=1;n<r;n++)t[n-1]=arguments[n];return c({and:[t,r=>e.reduce(((t,n,o)=>t.concat(P(e,o)?n:"".concat(n).concat(T(r[o])))),"")],or:{sid:"-yrbthp"}})}function T(e){return Array.isArray(e)?e.map((e=>String(e))).join(", "):String(e)}function P(e,r){return r===e.length-1}function $(e){var{effects:r,domain:t}=e;if(t){var n=t.createStore(0,{name:"$inFlight",sid:"-y7vg7t"});return t.onCreateEffect((e=>{n.on(e,(e=>e+1)).on(e.finally,(e=>e-1))})),n}return c({and:[r.map((e=>e.inFlight)),e=>e.reduce(((e,r)=>e+r),0)],or:{sid:"ubqxa7"}})}function x(t){var{timeout:a,start:u,stop:c,leading:f=!1,trailing:m=!1}=t,l=e({name:"tick",sid:"uo9p3s"}),p=n(!1,{name:"$isRunning",sid:"-wxesi8"}),v=function(e){if(r.store(e,{sid:"6p7767"}))return e;if("number"==typeof e)return n(e,{and:{name:"$timeout"},sid:"5hw6se"});throw new TypeError('timeout parameter in interval method should be number or Store. "'.concat(typeof e,'" was passed'))}(a),y=p.map((e=>!e)),g=e({name:"saveTimeout",sid:"as5clk"}),w=n(null,{name:"$timeoutId",sid:"-bh90bo"}).on(g,((e,r)=>r)),b=e({name:"saveReject",sid:"-64swis"}),h=n((()=>{}),{name:"$rejecter",sid:"eabbu7"}).on(b,((e,r)=>r)),j=s((e=>new Promise(((r,t)=>{var n=setTimeout(r,e);g(n),b(t)}))),{name:"timeoutFx",sid:"7lc3mj"}),k=d({and:{source:[w,h],effect:e=>{var[r,t]=e;t(),r&&clearTimeout(r)}},or:{name:"cleanupFx",sid:"pcn5jq"}});return i({and:[{clock:u,source:v,filter:y,target:j}],or:{sid:"-w5qmwp"}}),f&&i({and:[{clock:u,filter:y,target:l}],or:{sid:"-vpslni"}}),o({and:[{clock:u,fn:()=>!0,target:p}],or:{sid:"-vaed34"}}),i({and:[{clock:j.done,source:v,filter:p,target:j}],or:{sid:"-v73liy"}}),o({and:[{clock:j.done,fn:()=>{},target:l}],or:{sid:"-urpcwu"}}),c&&(m&&o({and:[{clock:c,target:l}],or:{sid:"-uanqf7"}}),p.on(c,(()=>!1)),o({and:[{clock:c,target:k}],or:{sid:"6lcmyy"}})),{tick:l,isRunning:p}}var S={some:e=>e.some(Boolean),every:e=>e.every(Boolean)};function N(e){var{effects:t,domain:n,of:o="some"}=e;if(!r.domain(n,{sid:"97b92c"})&&!t)throw new TypeError("domain or effects should be passed");if("some"!==o&&"every"!==o)throw new TypeError('strategy parameter "of" can be "every" or "some". Passed: "'.concat(o,'"'));var i=null!=t?t:[],a=S[o];return n&&(i=[],n.onCreateEffect((e=>i.push(e)))),c({and:[i.map((e=>e.pending)),a],or:{sid:"a37bj0"}})}function F(e){var{clock:r,target:t}=e,n=Array.isArray(t)?t:[t],o=Array.isArray(r)?r:[r];n.forEach((e=>{e.reset.call(e,o)}))}function q(e){var{source:r,shape:t}=e,n={};for(var o in t)o in t&&function(){var e=t[o];n[o]=r.map((r=>{var t=e(r);return void 0===t?null:t}))}();return n}function D(e){var{source:r,clock:t,fn:i=(e=>e)}=e,a=i(r.defaultState),s=o(t?{and:[r,t,i],or:{name:"onSnapshot",sid:"-auitd0"}}:{and:[{source:r,fn:i}],or:{name:"onSnapshot",sid:"-auir6n"}}),u=n(a,{name:"$snapshot",sid:"-7zyoaf"});return u.on(s,((e,r)=>r)),u}function C(e,t){var n,o=[],i=()=>!1;Array.isArray(e)?(o=e,i=t):Array.isArray(e.stores)&&(o=e.stores,i=e.predicate),n="function"==typeof i?i:r.store(i,{sid:"zbwu0l"})?i.map((e=>r=>e===r)):e=>e===i;var a=c({and:[o],or:{name:"$values",sid:"-lv5do0"}});return c({and:[n,a,(e,r)=>r.some(e)],or:{sid:"-efc5w7"}})}function R(e){var{source:t,cases:n}=e,o={},i=r.store(t,{name:"current",sid:"-htjkz7"})?t.updates:t;for(var a in n)a in n&&function(){var e=n[a];o[a]=i.filterMap(e),i=i.filter({fn:r=>!e(r)})}();return o.__=i,o}function B(t){var{targets:n,source:a=e({name:"source",sid:"-iel8gi"},{name:"source",sid:"-iel8gi"})}=t,s=function(e){if(e in n){var t=i({and:[{source:a,filter:r=>"object"==typeof r&&null!==r&&e in r}],or:{name:"hasTargetKey",sid:"-gh83lo"}});r.store(n[e],{sid:"jliekw"})?n[e].on(t,((r,t)=>t[e])):o({and:[{source:t,fn:r=>r[e],target:n[e]}],or:{sid:"lnzpe6"}})}};for(var u in n)s(u);return a}function _(e){var{effect:r,defaultValue:t="initial"}=e,o=n(t,{name:"$status",sid:"abrgim"});return o.on(r,(()=>"pending")).on(r.done,(()=>"done")).on(r.fail,(()=>"fail")),o}function I(t){var{source:n,timeout:a,target:u=e({name:"target",sid:"cenyj5"},{name:"target",sid:"cenyj5"})}=t;if(!r.unit(n))throw new TypeError("source must be unit from effector");if("number"!=typeof a||a<0)throw new Error("timeout must be positive number or zero");var c=s((()=>new Promise((e=>setTimeout(e,a)))),{name:"timerFx",sid:"uv7gwq"});return i({and:[{source:n,filter:c.pending.map((e=>!e)),target:c}],or:{sid:"-iy4kn2"}}),o({and:[{source:n,clock:c.done,target:u}],or:{sid:"-ija4mb"}}),u}var K=()=>Date.now();function M(e){var{clock:r,getNow:t,initial:n}=e,o=null!=t?t:K,i=s(o,{name:"readNowFx",sid:"459ysb"}),a=f(i,null!=n?n:o(),{name:"$time",sid:"-ys9vce"});return u({and:{from:r,to:i},or:{sid:"rdje9v"}}),a}export{p as combineEvents,y as condition,w as debounce,b as debug,O as delay,E as every,z as format,$ as inFlight,x as interval,N as pending,F as reset,q as reshape,D as snapshot,C as some,R as splitMap,B as spread,_ as status,I as throttle,M as time};
//# sourceMappingURL=patronum.js.map
