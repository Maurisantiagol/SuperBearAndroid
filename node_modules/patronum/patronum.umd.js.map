{"version":3,"file":"patronum.umd.js","sources":["combine-events/index.cjs","condition/index.cjs","debounce/index.cjs","debug/index.cjs","delay/index.cjs","every/index.cjs","format/index.cjs","in-flight/index.cjs","interval/index.cjs","pending/index.cjs","reset/index.cjs","reshape/index.cjs","snapshot/index.cjs","some/index.cjs","split-map/index.cjs","spread/index.cjs","status/index.cjs","throttle/index.cjs","time/index.cjs","index.cjs"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.combineEvents = combineEvents;\n\nvar _effector = require(\"effector\");\n\nfunction combineEvents({\n  events,\n  reset,\n  target = (0, _effector.createEvent)({\n    name: \"target\",\n    sid: \"3pez5\"\n  })\n}) {\n  if (!_effector.is.unit(target)) throwError('target should be a unit');\n  if (reset && !_effector.is.unit(reset)) throwError('reset should be a unit');\n  (0, _effector.withRegion)(target, () => {\n    const keys = Object.keys(events);\n    const defaultShape = Array.isArray(events) ? [...keys].fill('') : {};\n    const $counter = (0, _effector.createStore)(keys.length, {\n      name: \"$counter\",\n      sid: \"-dszn9a\"\n    });\n    const $results = (0, _effector.createStore)(defaultShape, {\n      name: \"$results\",\n      sid: \"boz3x7\"\n    });\n    $counter.reset((0, _effector.sample)({\n      and: [target],\n      or: {\n        sid: \"-8yzcn6\"\n      }\n    }));\n    $results.reset(target);\n\n    if (reset) {\n      $counter.reset((0, _effector.sample)({\n        and: [reset],\n        or: {\n          sid: \"-72suil\"\n        }\n      }));\n      $results.reset(reset);\n    }\n\n    for (const key of keys) {\n      const $isDone = (0, _effector.createStore)(false, {\n        name: \"$isDone\",\n        sid: \"ucs7nc\"\n      }).on(events[key], () => true).reset(target);\n\n      if (reset) {\n        $isDone.reset(reset);\n      }\n\n      $counter.on($isDone, value => value - 1);\n      $results.on(events[key], (shape, payload) => {\n        const newShape = Array.isArray(shape) ? [...shape] : { ...shape\n        };\n        newShape[key] = payload;\n        return newShape;\n      });\n    }\n\n    (0, _effector.guard)({\n      and: [{\n        source: (0, _effector.sample)({\n          and: [$results, (0, _effector.merge)(Object.values(events), {\n            name: \"and\",\n            sid: \"-l8g4ey\"\n          })],\n          or: {\n            name: \"source\",\n            sid: \"uf92v9\"\n          }\n        }),\n        filter: $counter.map(value => value === 0),\n        target\n      }],\n      or: {\n        sid: \"ciekm0\"\n      }\n    });\n  });\n  return target;\n}\n\nfunction throwError(message) {\n  throw new Error(message);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.condition = condition;\n\nvar _effector = require(\"effector\");\n\nfunction condition({\n  if: test,\n  then: thenBranch,\n  else: elseBranch,\n  source = (0, _effector.createEvent)({\n    name: \"source\",\n    sid: \"epke23\"\n  })\n}) {\n  const checker = _effector.is.unit(test) || isFunction(test) ? test : value => value === test;\n\n  if (thenBranch) {\n    (0, _effector.guard)({\n      and: [{\n        source,\n        filter: checker,\n        target: thenBranch\n      }],\n      or: {\n        sid: \"9tug3k\"\n      }\n    });\n  }\n\n  if (elseBranch) {\n    (0, _effector.guard)({\n      and: [{\n        source,\n        filter: inverse(checker),\n        target: elseBranch\n      }],\n      or: {\n        sid: \"a9shb1\"\n      }\n    });\n  }\n\n  return source;\n}\n\nfunction isFunction(value) {\n  return typeof value === 'function';\n}\n\nfunction inverse(fnOrUnit) {\n  if (_effector.is.unit(fnOrUnit)) {\n    return fnOrUnit.map(value => !value);\n  }\n\n  return value => !fnOrUnit(value);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.debounce = debounce;\n\nvar _effector = require(\"effector\");\n\nfunction debounce({\n  source,\n  timeout,\n  target\n}) {\n  if (!_effector.is.unit(source)) throw new TypeError('source must be unit from effector');\n  if (_effector.is.domain(source, {\n    sid: \"iu8yzo\"\n  })) throw new TypeError('source cannot be domain');\n  if (typeof timeout !== 'number' || timeout < 0 || !Number.isFinite(timeout)) throw new Error(`timeout must be positive number or zero. Received: \"${timeout}\"`);\n  let rejectPromise;\n  let timeoutId;\n  const tick = target ?? (0, _effector.createEvent)({\n    name: \"tick\",\n    sid: \"-xw52dh\"\n  });\n  const timerFx = (0, _effector.createEffect)(parameter => {\n    clearTimeout(timeoutId);\n    if (rejectPromise) rejectPromise();\n    return new Promise((resolve, reject) => {\n      rejectPromise = reject;\n      timeoutId = setTimeout(resolve, timeout, parameter);\n    });\n  }, {\n    name: \"timerFx\",\n    sid: \"m8kfsq\"\n  });\n  (0, _effector.forward)({\n    and: {\n      from: source,\n      to: timerFx\n    },\n    or: {\n      sid: \"k4foqk\"\n    }\n  });\n  (0, _effector.forward)({\n    and: {\n      from: timerFx.done.map(({\n        result\n      }) => result),\n      to: tick\n    },\n    or: {\n      sid: \"k76npd\"\n    }\n  });\n  return tick;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.debug = debug;\n\nvar _effector = require(\"effector\");\n\nfunction debug(...units) {\n  for (const unit of units) {\n    const type = getType(unit);\n\n    if (_effector.is.store(unit, {\n      sid: \"8mdztw\"\n    }) || _effector.is.effect(unit, {\n      sid: \"-gueih2\"\n    }) || _effector.is.event(unit, {\n      sid: \"-gueh0j\"\n    })) {\n      log(unit, type);\n    }\n\n    if (_effector.is.effect(unit, {\n      sid: \"-jlpzbv\"\n    })) {\n      logEffect(unit);\n    }\n\n    if (_effector.is.domain(unit, {\n      sid: \"-jjisyf\"\n    })) {\n      unit.onCreateEvent(event => log(event, 'event'));\n      unit.onCreateStore(store => log(store, 'store'));\n      unit.onCreateEffect(logEffect);\n    }\n  }\n}\n\nfunction getType(unit) {\n  if (_effector.is.store(unit, {\n    sid: \"-j30z7b\"\n  })) {\n    return 'store';\n  }\n\n  if (_effector.is.effect(unit, {\n    sid: \"-j1dlf8\"\n  })) {\n    return 'effect';\n  }\n\n  if (_effector.is.event(unit, {\n    sid: \"-io6j6k\"\n  })) {\n    return 'event';\n  }\n\n  if (_effector.is.domain(unit, {\n    sid: \"-imj5eh\"\n  })) {\n    return 'domain';\n  }\n\n  if (_effector.is.unit(unit)) {\n    return 'unit';\n  }\n\n  return 'unknown';\n}\n\nfunction log(unit, type, prefix = '') {\n  const name = prefix + getName(unit);\n  unit.watch(payload => {\n    console.info(`[${type}] ${name}`, payload);\n  });\n}\n\nfunction logEffect(unit) {\n  log(unit.done, 'effect', getName(unit) + '.');\n  log(unit.fail, 'effect', getName(unit) + '.');\n}\n\nfunction getName(unit) {\n  if (unit.compositeName && unit.compositeName.fullName) {\n    return unit.compositeName.fullName;\n  }\n\n  if (unit.shortName) {\n    return unit.shortName;\n  }\n\n  if (unit.name) {\n    return unit.name;\n  }\n\n  return '';\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.delay = delay;\n\nvar _effector = require(\"effector\");\n\nfunction delay({\n  source,\n  timeout,\n  target = (0, _effector.createEvent)({\n    name: \"target\",\n    sid: \"-z2vw3w\"\n  })\n}) {\n  if (!_effector.is.unit(source)) throw new TypeError('source must be a unit from effector');\n  if (!_effector.is.unit(target)) throw new TypeError('target must be a unit from effector');\n  const ms = validateTimeout(timeout);\n  const timerFx = (0, _effector.createEffect)(({\n    payload,\n    milliseconds\n  }) => new Promise(resolve => {\n    setTimeout(resolve, milliseconds, payload);\n  }), {\n    name: \"timerFx\",\n    sid: \"-584o7j\"\n  });\n  (0, _effector.sample)({\n    and: [{\n      // ms can be Store<number> | number\n      // converts object of stores or object of values to store\n      source: (0, _effector.combine)({\n        and: [{\n          milliseconds: ms\n        }],\n        or: {\n          name: \"source\",\n          sid: \"9rbdjo\"\n        }\n      }),\n      clock: source,\n      fn: ({\n        milliseconds\n      }, payload) => ({\n        payload,\n        milliseconds: typeof milliseconds === 'function' ? milliseconds(payload) : milliseconds\n      }),\n      target: timerFx\n    }],\n    or: {\n      sid: \"-wmj29s\"\n    }\n  });\n  (0, _effector.forward)({\n    and: {\n      from: timerFx.doneData,\n      to: target\n    },\n    or: {\n      sid: \"-vsadmx\"\n    }\n  });\n  return target;\n}\n\nfunction validateTimeout(timeout) {\n  if (_effector.is.store(timeout, {\n    sid: \"-va560a\"\n  }) || typeof timeout === 'function' || typeof timeout === 'number') {\n    return timeout;\n  }\n\n  throw new TypeError(`'timeout' argument must be a function, Store, or a number. Passed \"${typeof timeout}\"`);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.every = every;\n\nvar _effector = require(\"effector\");\n\n/* eslint-disable @typescript-eslint/no-unused-vars */\nfunction every(configOrStores, predicateOrNone) {\n  let stores = [];\n\n  let predicate = () => false;\n\n  if (Array.isArray(configOrStores)) {\n    stores = configOrStores;\n    predicate = predicateOrNone;\n  } else if (Array.isArray(configOrStores.stores)) {\n    stores = configOrStores.stores;\n    predicate = configOrStores.predicate;\n  }\n\n  let checker;\n\n  if (isFunction(predicate)) {\n    checker = predicate;\n  } else if (_effector.is.store(predicate, {\n    sid: \"sid3ut\"\n  })) {\n    checker = predicate.map(value => required => value === required);\n  } else {\n    checker = value => value === predicate;\n  }\n\n  const $values = (0, _effector.combine)({\n    and: [stores],\n    or: {\n      name: \"$values\",\n      sid: \"h09uhg\"\n    }\n  }); // Combine pass simple values as is\n\n  const $checker = checker;\n  return (0, _effector.combine)({\n    and: [$checker, $values, (checker, values) => values.every(checker)],\n    or: {\n      sid: \"hfkdw9\"\n    }\n  });\n}\n\nfunction isFunction(value) {\n  return typeof value === 'function';\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.format = format;\n\nvar _effector = require(\"effector\");\n\nfunction format(strings, ...stores) {\n  return (0, _effector.combine)({\n    and: [stores, stores => strings.reduce((acc, value, index) => acc.concat(isLastElement(strings, index) ? value : `${value}${toString(stores[index])}`), '')],\n    or: {\n      sid: \"-yrbthp\"\n    }\n  });\n}\n\nfunction toString(value) {\n  if (Array.isArray(value)) {\n    return value.map(value => String(value)).join(', ');\n  }\n\n  return String(value);\n}\n\nfunction isLastElement(array, index) {\n  return index === array.length - 1;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.inFlight = inFlight;\n\nvar _effector = require(\"effector\");\n\nfunction inFlight({\n  effects,\n  domain\n}) {\n  if (domain) {\n    const $inFlight = domain.createStore(0, {\n      name: \"$inFlight\",\n      sid: \"-y7vg7t\"\n    });\n    domain.onCreateEffect(fx => {\n      $inFlight.on(fx, count => count + 1).on(fx.finally, count => count - 1);\n    });\n    return $inFlight;\n  }\n\n  return (0, _effector.combine)({\n    and: [effects.map(fx => fx.inFlight), inFlights => inFlights.reduce((all, current) => all + current, 0)],\n    or: {\n      sid: \"ubqxa7\"\n    }\n  });\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.interval = interval;\n\nvar _effector = require(\"effector\");\n\nfunction interval({\n  timeout,\n  start,\n  stop,\n  leading = false,\n  trailing = false\n}) {\n  const tick = (0, _effector.createEvent)({\n    name: \"tick\",\n    sid: \"uo9p3s\"\n  });\n  const $isRunning = (0, _effector.createStore)(false, {\n    name: \"$isRunning\",\n    sid: \"-wxesi8\"\n  });\n  const $timeout = toStoreNumber(timeout);\n  const $notRunning = $isRunning.map(running => !running);\n  const saveTimeout = (0, _effector.createEvent)({\n    name: \"saveTimeout\",\n    sid: \"as5clk\"\n  });\n  const $timeoutId = (0, _effector.createStore)(null, {\n    name: \"$timeoutId\",\n    sid: \"-bh90bo\"\n  }).on(saveTimeout, (_, id) => id);\n  const saveReject = (0, _effector.createEvent)({\n    name: \"saveReject\",\n    sid: \"-64swis\"\n  }); // eslint-disable-next-line @typescript-eslint/no-empty-function\n\n  const $rejecter = (0, _effector.createStore)(() => {}, {\n    name: \"$rejecter\",\n    sid: \"eabbu7\"\n  }).on(saveReject, (_, rj) => rj);\n  const timeoutFx = (0, _effector.createEffect)(timeout => {\n    return new Promise((resolve, reject) => {\n      const timeoutId = setTimeout(resolve, timeout);\n      saveTimeout(timeoutId);\n      saveReject(reject);\n    });\n  }, {\n    name: \"timeoutFx\",\n    sid: \"7lc3mj\"\n  });\n  const cleanupFx = (0, _effector.attach)({\n    and: {\n      source: [$timeoutId, $rejecter],\n      effect: ([id, rj]) => {\n        rj();\n        if (id) clearTimeout(id);\n      }\n    },\n    or: {\n      name: \"cleanupFx\",\n      sid: \"pcn5jq\"\n    }\n  });\n  (0, _effector.guard)({\n    and: [{\n      clock: start,\n      source: $timeout,\n      filter: $notRunning,\n      target: timeoutFx\n    }],\n    or: {\n      sid: \"-w5qmwp\"\n    }\n  });\n\n  if (leading) {\n    (0, _effector.guard)({\n      and: [{\n        clock: start,\n        filter: $notRunning,\n        target: tick\n      }],\n      or: {\n        sid: \"-vpslni\"\n      }\n    });\n  }\n\n  (0, _effector.sample)({\n    and: [{\n      clock: start,\n      fn: () => true,\n      target: $isRunning\n    }],\n    or: {\n      sid: \"-vaed34\"\n    }\n  });\n  (0, _effector.guard)({\n    and: [{\n      clock: timeoutFx.done,\n      source: $timeout,\n      filter: $isRunning,\n      target: timeoutFx\n    }],\n    or: {\n      sid: \"-v73liy\"\n    }\n  });\n  (0, _effector.sample)({\n    and: [{\n      clock: timeoutFx.done,\n      fn: () => {\n        /* to be sure, nothing passed to tick */\n      },\n      target: tick\n    }],\n    or: {\n      sid: \"-urpcwu\"\n    }\n  });\n\n  if (stop) {\n    if (trailing) {\n      (0, _effector.sample)({\n        and: [{\n          clock: stop,\n          target: tick\n        }],\n        or: {\n          sid: \"-uanqf7\"\n        }\n      });\n    }\n\n    $isRunning.on(stop, () => false);\n    (0, _effector.sample)({\n      and: [{\n        clock: stop,\n        target: cleanupFx\n      }],\n      or: {\n        sid: \"6lcmyy\"\n      }\n    });\n  }\n\n  return {\n    tick,\n    isRunning: $isRunning\n  };\n}\n\nfunction toStoreNumber(value) {\n  if (_effector.is.store(value, {\n    sid: \"6p7767\"\n  })) return value;\n\n  if (typeof value === 'number') {\n    return (0, _effector.createStore)(value, {\n      and: {\n        name: '$timeout'\n      },\n      sid: \"5hw6se\"\n    });\n  }\n\n  throw new TypeError(`timeout parameter in interval method should be number or Store. \"${typeof value}\" was passed`);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.pending = pending;\n\nvar _effector = require(\"effector\");\n\nconst strategies = {\n  some: list => list.some(Boolean),\n  every: list => list.every(Boolean)\n};\n\nfunction pending({\n  effects: rawEffects,\n  domain,\n  of = 'some'\n}) {\n  if (!_effector.is.domain(domain, {\n    sid: \"97b92c\"\n  }) && !rawEffects) throw new TypeError('domain or effects should be passed');\n  if (of !== 'some' && of !== 'every') throw new TypeError(`strategy parameter \"of\" can be \"every\" or \"some\". Passed: \"${of}\"`);\n  let effects = rawEffects ?? [];\n  const strategy = strategies[of];\n\n  if (domain) {\n    effects = [];\n    domain.onCreateEffect(fx => effects.push(fx));\n  }\n\n  return (0, _effector.combine)({\n    and: [effects.map(fx => fx.pending), strategy],\n    or: {\n      sid: \"a37bj0\"\n    }\n  });\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.reset = reset;\n\nfunction reset({\n  clock,\n  target\n}) {\n  const targets = Array.isArray(target) ? target : [target];\n  const clocks = Array.isArray(clock) ? clock : [clock];\n  targets.forEach(target => {\n    target.reset.call(target, clocks);\n  });\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.reshape = reshape;\n\nfunction reshape({\n  source,\n  shape\n}) {\n  const result = {};\n\n  for (const key in shape) {\n    if (key in shape) {\n      const fn = shape[key];\n      result[key] = source.map(state => {\n        const result = fn(state);\n        return result === undefined ? null : result;\n      });\n    }\n  }\n\n  return result;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.snapshot = snapshot;\n\nvar _effector = require(\"effector\");\n\nfunction snapshot({\n  source,\n  clock,\n  fn = value => value\n}) {\n  const defaultValue = fn(source.defaultState);\n  const onSnapshot = clock ? (0, _effector.sample)({\n    and: [source, clock, fn],\n    or: {\n      name: \"onSnapshot\",\n      sid: \"-auitd0\"\n    }\n  }) : (0, _effector.sample)({\n    and: [{\n      source,\n      fn\n    }],\n    or: {\n      name: \"onSnapshot\",\n      sid: \"-auir6n\"\n    }\n  });\n  const $snapshot = (0, _effector.createStore)(defaultValue, {\n    name: \"$snapshot\",\n    sid: \"-7zyoaf\"\n  });\n  $snapshot.on(onSnapshot, (_, value) => value);\n  return $snapshot;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.some = some;\n\nvar _effector = require(\"effector\");\n\nfunction some(configOrStores, predicateOrNone) {\n  let stores = [];\n\n  let predicate = () => false;\n\n  if (Array.isArray(configOrStores)) {\n    stores = configOrStores;\n    predicate = predicateOrNone;\n  } else if (Array.isArray(configOrStores.stores)) {\n    stores = configOrStores.stores;\n    predicate = configOrStores.predicate;\n  }\n\n  let checker;\n\n  if (isFunction(predicate)) {\n    checker = predicate;\n  } else if (_effector.is.store(predicate, {\n    sid: \"zbwu0l\"\n  })) {\n    checker = predicate.map(value => required => value === required);\n  } else {\n    checker = value => value === predicate;\n  }\n\n  const $values = (0, _effector.combine)({\n    and: [stores],\n    or: {\n      name: \"$values\",\n      sid: \"-lv5do0\"\n    }\n  }); // Combine pass simple values as is\n\n  const $checker = checker;\n  return (0, _effector.combine)({\n    and: [$checker, $values, (checker, values) => values.some(checker)],\n    or: {\n      sid: \"-efc5w7\"\n    }\n  });\n}\n\nfunction isFunction(value) {\n  return typeof value === 'function';\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.splitMap = splitMap;\n\nvar _effector = require(\"effector\");\n\nfunction splitMap({\n  source,\n  cases\n}) {\n  const result = {};\n  let current = _effector.is.store(source, {\n    name: \"current\",\n    sid: \"-htjkz7\"\n  }) ? source.updates : source;\n\n  for (const key in cases) {\n    if (key in cases) {\n      const fn = cases[key];\n      result[key] = current.filterMap(fn);\n      current = current.filter({\n        fn: data => !fn(data)\n      });\n    }\n  } // eslint-disable-next-line no-underscore-dangle\n\n\n  result.__ = current;\n  return result;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.spread = spread;\n\nvar _effector = require(\"effector\");\n\n/**\n * @example\n * spread({ source: dataObject, targets: { first: targetA, second: targetB } })\n * forward({\n *   to: spread({targets: { first: targetA, second: targetB } })\n * })\n */\nfunction spread({\n  targets,\n  source = (0, _effector.createEvent)({\n    name: \"source\",\n    sid: \"-iel8gi\"\n  })\n}) {\n  for (const targetKey in targets) {\n    if (targetKey in targets) {\n      const hasTargetKey = (0, _effector.guard)({\n        and: [{\n          source,\n          filter: object => typeof object === 'object' && object !== null && targetKey in object\n        }],\n        or: {\n          name: \"hasTargetKey\",\n          sid: \"-gh83lo\"\n        }\n      });\n\n      if (_effector.is.store(targets[targetKey], {\n        sid: \"jliekw\"\n      })) {\n        targets[targetKey].on(hasTargetKey, (prev, object) => object[targetKey]);\n      } else {\n        (0, _effector.sample)({\n          and: [{\n            source: hasTargetKey,\n            fn: object => object[targetKey],\n            target: targets[targetKey]\n          }],\n          or: {\n            sid: \"lnzpe6\"\n          }\n        });\n      }\n    }\n  }\n\n  return source;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.status = status;\n\nvar _effector = require(\"effector\");\n\nfunction status({\n  effect,\n  defaultValue = 'initial'\n}) {\n  const $status = (0, _effector.createStore)(defaultValue, {\n    name: \"$status\",\n    sid: \"abrgim\"\n  });\n  $status.on(effect, () => 'pending').on(effect.done, () => 'done').on(effect.fail, () => 'fail');\n  return $status;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.throttle = throttle;\n\nvar _effector = require(\"effector\");\n\nfunction throttle({\n  source,\n  timeout,\n  target = (0, _effector.createEvent)({\n    name: \"target\",\n    sid: \"cenyj5\"\n  })\n}) {\n  if (!_effector.is.unit(source)) throw new TypeError('source must be unit from effector');\n  if (typeof timeout !== 'number' || timeout < 0) throw new Error('timeout must be positive number or zero');\n  const timerFx = (0, _effector.createEffect)(() => new Promise(resolve => setTimeout(resolve, timeout)), {\n    name: \"timerFx\",\n    sid: \"uv7gwq\"\n  });\n  (0, _effector.guard)({\n    and: [{\n      source,\n      filter: timerFx.pending.map(pending => !pending),\n      target: timerFx\n    }],\n    or: {\n      sid: \"-iy4kn2\"\n    }\n  });\n  (0, _effector.sample)({\n    and: [{\n      source,\n      clock: timerFx.done,\n      target\n    }],\n    or: {\n      sid: \"-ija4mb\"\n    }\n  });\n  return target;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.time = time;\n\nvar _effector = require(\"effector\");\n\nconst defaultNow = () => Date.now();\n\nfunction time({\n  clock,\n  getNow,\n  initial\n}) {\n  const timeReader = getNow ?? defaultNow;\n  const readNowFx = (0, _effector.createEffect)(timeReader, {\n    name: \"readNowFx\",\n    sid: \"459ysb\"\n  });\n  const $time = (0, _effector.restore)(readNowFx, initial ?? timeReader(), {\n    name: \"$time\",\n    sid: \"-ys9vce\"\n  });\n  (0, _effector.forward)({\n    and: {\n      from: clock,\n      to: readNowFx\n    },\n    or: {\n      sid: \"rdje9v\"\n    }\n  });\n  return $time;\n}","module.exports.combineEvents = require('./combine-events/index.cjs').combineEvents;\nmodule.exports.condition = require('./condition/index.cjs').condition;\nmodule.exports.debounce = require('./debounce/index.cjs').debounce;\nmodule.exports.debug = require('./debug/index.cjs').debug;\nmodule.exports.delay = require('./delay/index.cjs').delay;\nmodule.exports.every = require('./every/index.cjs').every;\nmodule.exports.format = require('./format/index.cjs').format;\nmodule.exports.inFlight = require('./in-flight/index.cjs').inFlight;\nmodule.exports.interval = require('./interval/index.cjs').interval;\nmodule.exports.pending = require('./pending/index.cjs').pending;\nmodule.exports.reset = require('./reset/index.cjs').reset;\nmodule.exports.reshape = require('./reshape/index.cjs').reshape;\nmodule.exports.snapshot = require('./snapshot/index.cjs').snapshot;\nmodule.exports.some = require('./some/index.cjs').some;\nmodule.exports.splitMap = require('./split-map/index.cjs').splitMap;\nmodule.exports.spread = require('./spread/index.cjs').spread;\nmodule.exports.status = require('./status/index.cjs').status;\nmodule.exports.throttle = require('./throttle/index.cjs').throttle;\nmodule.exports.time = require('./time/index.cjs').time;\n"],"names":["throwError","message","Error","Object","defineProperty","exports","value","events","reset","target","_effector","createEvent","name","sid","is","unit","withRegion","keys","defaultShape","Array","isArray","fill","$counter","createStore","length","$results","sample","and","or","key","$isDone","on","shape","payload","newShape","guard","source","merge","values","filter","map","inverse","fnOrUnit","if","test","then","thenBranch","else","elseBranch","checker","timeout","TypeError","domain","Number","isFinite","rejectPromise","timeoutId","tick","timerFx","createEffect","parameter","clearTimeout","Promise","resolve","reject","setTimeout","forward","from","to","done","result","getType","store","effect","event","log","type","prefix","getName","watch","console","info","logEffect","fail","compositeName","fullName","shortName","units","onCreateEvent","onCreateStore","onCreateEffect","ms","validateTimeout","milliseconds","combine","clock","fn","doneData","configOrStores","predicateOrNone","stores","predicate","required","$values","$checker","every","strings","reduce","acc","index","concat","array","isLastElement","String","join","toString","effects","$inFlight","fx","count","finally","inFlight","inFlights","all","current","start","stop","leading","trailing","$isRunning","$timeout","toStoreNumber","$notRunning","running","saveTimeout","$timeoutId","_","id","saveReject","$rejecter","rj","timeoutFx","cleanupFx","attach","isRunning","rawEffects","of","strategy","strategies","push","pending","some","list","Boolean","targets","clocks","forEach","call","state","undefined","defaultValue","defaultState","onSnapshot","$snapshot","cases","updates","filterMap","data","__","targetKey","hasTargetKey","object","prev","$status","getNow","initial","timeReader","defaultNow","readNowFx","$time","restore","Date","now","require$$0","combineEvents","require$$1","condition","require$$2","debounce","require$$3","debug","require$$4","delay","require$$5","require$$6","format","require$$7","require$$8","interval","require$$9","require$$10","require$$11","reshape","require$$12","snapshot","require$$13","require$$14","splitMap","require$$15","spread","require$$16","status","require$$17","throttle","require$$18","time"],"mappings":"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"}