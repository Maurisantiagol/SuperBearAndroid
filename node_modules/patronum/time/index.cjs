"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.time = time;

var _effector = require("effector");

const defaultNow = () => Date.now();

function time({
  clock,
  getNow,
  initial
}) {
  const timeReader = getNow ?? defaultNow;
  const readNowFx = (0, _effector.createEffect)(timeReader, {
    name: "readNowFx",
    sid: "459ysb"
  });
  const $time = (0, _effector.restore)(readNowFx, initial ?? timeReader(), {
    name: "$time",
    sid: "-ys9vce"
  });
  (0, _effector.forward)({
    and: {
      from: clock,
      to: readNowFx
    },
    or: {
      sid: "rdje9v"
    }
  });
  return $time;
}