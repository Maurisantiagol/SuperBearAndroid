{"version":3,"file":"patronum.js","sources":["combine-events/index.js","condition/index.js","debounce/index.js","debug/index.js","delay/index.js","every/index.js","format/index.js","in-flight/index.js","interval/index.js","pending/index.js","reset/index.js","reshape/index.js","snapshot/index.js","some/index.js","split-map/index.js","spread/index.js","status/index.js","throttle/index.js","time/index.js"],"sourcesContent":["function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { createEvent, createStore, guard, is, merge, sample, withRegion } from 'effector';\nexport function combineEvents(_ref) {\n  var {\n    events,\n    reset,\n    target = createEvent({\n      name: \"target\",\n      sid: \"3pez5\"\n    }, {\n      name: \"target\",\n      sid: \"3pez5\"\n    })\n  } = _ref;\n  if (!is.unit(target)) throwError('target should be a unit');\n  if (reset && !is.unit(reset)) throwError('reset should be a unit');\n  withRegion(target, () => {\n    var keys = Object.keys(events);\n    var defaultShape = Array.isArray(events) ? [...keys].fill('') : {};\n    var $counter = createStore(keys.length, {\n      name: \"$counter\",\n      sid: \"-dszn9a\"\n    });\n    var $results = createStore(defaultShape, {\n      name: \"$results\",\n      sid: \"boz3x7\"\n    });\n    $counter.reset(sample({\n      and: [target],\n      or: {\n        sid: \"-8yzcn6\"\n      }\n    }));\n    $results.reset(target);\n\n    if (reset) {\n      $counter.reset(sample({\n        and: [reset],\n        or: {\n          sid: \"-72suil\"\n        }\n      }));\n      $results.reset(reset);\n    }\n\n    var _loop = function _loop(key) {\n      var $isDone = createStore(false, {\n        name: \"$isDone\",\n        sid: \"ucs7nc\"\n      }).on(events[key], () => true).reset(target);\n\n      if (reset) {\n        $isDone.reset(reset);\n      }\n\n      $counter.on($isDone, value => value - 1);\n      $results.on(events[key], (shape, payload) => {\n        var newShape = Array.isArray(shape) ? [...shape] : _objectSpread({}, shape);\n        newShape[key] = payload;\n        return newShape;\n      });\n    };\n\n    for (var key of keys) {\n      _loop(key);\n    }\n\n    guard({\n      and: [{\n        source: sample({\n          and: [$results, merge(Object.values(events), {\n            name: \"and\",\n            sid: \"-l8g4ey\"\n          })],\n          or: {\n            name: \"source\",\n            sid: \"uf92v9\"\n          }\n        }),\n        filter: $counter.map(value => value === 0),\n        target\n      }],\n      or: {\n        sid: \"ciekm0\"\n      }\n    });\n  });\n  return target;\n}\n\nfunction throwError(message) {\n  throw new Error(message);\n}","import { createEvent, guard, is } from 'effector';\nexport function condition(_ref) {\n  var {\n    if: test,\n    then: thenBranch,\n    else: elseBranch,\n    source = createEvent({\n      name: \"source\",\n      sid: \"epke23\"\n    }, {\n      name: \"source\",\n      sid: \"epke23\"\n    })\n  } = _ref;\n  var checker = is.unit(test) || isFunction(test) ? test : value => value === test;\n\n  if (thenBranch) {\n    guard({\n      and: [{\n        source,\n        filter: checker,\n        target: thenBranch\n      }],\n      or: {\n        sid: \"9tug3k\"\n      }\n    });\n  }\n\n  if (elseBranch) {\n    guard({\n      and: [{\n        source,\n        filter: inverse(checker),\n        target: elseBranch\n      }],\n      or: {\n        sid: \"a9shb1\"\n      }\n    });\n  }\n\n  return source;\n}\n\nfunction isFunction(value) {\n  return typeof value === 'function';\n}\n\nfunction inverse(fnOrUnit) {\n  if (is.unit(fnOrUnit)) {\n    return fnOrUnit.map(value => !value);\n  }\n\n  return value => !fnOrUnit(value);\n}","import { createEffect, createEvent, forward, is } from 'effector';\nexport function debounce(_ref) {\n  var {\n    source,\n    timeout,\n    target\n  } = _ref;\n  if (!is.unit(source)) throw new TypeError('source must be unit from effector');\n  if (is.domain(source, {\n    sid: \"iu8yzo\"\n  })) throw new TypeError('source cannot be domain');\n  if (typeof timeout !== 'number' || timeout < 0 || !Number.isFinite(timeout)) throw new Error(\"timeout must be positive number or zero. Received: \\\"\".concat(timeout, \"\\\"\"));\n  var rejectPromise;\n  var timeoutId;\n  var tick = target !== null && target !== void 0 ? target : createEvent({\n    name: \"tick\",\n    sid: \"-xw52dh\"\n  });\n  var timerFx = createEffect(parameter => {\n    clearTimeout(timeoutId);\n    if (rejectPromise) rejectPromise();\n    return new Promise((resolve, reject) => {\n      rejectPromise = reject;\n      timeoutId = setTimeout(resolve, timeout, parameter);\n    });\n  }, {\n    name: \"timerFx\",\n    sid: \"m8kfsq\"\n  });\n  forward({\n    and: {\n      from: source,\n      to: timerFx\n    },\n    or: {\n      sid: \"k4foqk\"\n    }\n  });\n  forward({\n    and: {\n      from: timerFx.done.map(_ref2 => {\n        var {\n          result\n        } = _ref2;\n        return result;\n      }),\n      to: tick\n    },\n    or: {\n      sid: \"k76npd\"\n    }\n  });\n  return tick;\n}","import { is } from 'effector';\nexport function debug() {\n  for (var _len = arguments.length, units = new Array(_len), _key = 0; _key < _len; _key++) {\n    units[_key] = arguments[_key];\n  }\n\n  for (var unit of units) {\n    var type = getType(unit);\n\n    if (is.store(unit, {\n      sid: \"8mdztw\"\n    }) || is.effect(unit, {\n      sid: \"-gueih2\"\n    }) || is.event(unit, {\n      sid: \"-gueh0j\"\n    })) {\n      log(unit, type);\n    }\n\n    if (is.effect(unit, {\n      sid: \"-jlpzbv\"\n    })) {\n      logEffect(unit);\n    }\n\n    if (is.domain(unit, {\n      sid: \"-jjisyf\"\n    })) {\n      unit.onCreateEvent(event => log(event, 'event'));\n      unit.onCreateStore(store => log(store, 'store'));\n      unit.onCreateEffect(logEffect);\n    }\n  }\n}\n\nfunction getType(unit) {\n  if (is.store(unit, {\n    sid: \"-j30z7b\"\n  })) {\n    return 'store';\n  }\n\n  if (is.effect(unit, {\n    sid: \"-j1dlf8\"\n  })) {\n    return 'effect';\n  }\n\n  if (is.event(unit, {\n    sid: \"-io6j6k\"\n  })) {\n    return 'event';\n  }\n\n  if (is.domain(unit, {\n    sid: \"-imj5eh\"\n  })) {\n    return 'domain';\n  }\n\n  if (is.unit(unit)) {\n    return 'unit';\n  }\n\n  return 'unknown';\n}\n\nfunction log(unit, type) {\n  var prefix = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n  var name = prefix + getName(unit);\n  unit.watch(payload => {\n    console.info(\"[\".concat(type, \"] \").concat(name), payload);\n  });\n}\n\nfunction logEffect(unit) {\n  log(unit.done, 'effect', getName(unit) + '.');\n  log(unit.fail, 'effect', getName(unit) + '.');\n}\n\nfunction getName(unit) {\n  if (unit.compositeName && unit.compositeName.fullName) {\n    return unit.compositeName.fullName;\n  }\n\n  if (unit.shortName) {\n    return unit.shortName;\n  }\n\n  if (unit.name) {\n    return unit.name;\n  }\n\n  return '';\n}","import { createEffect, createEvent, forward, is, sample, combine } from 'effector';\nexport function delay(_ref) {\n  var {\n    source,\n    timeout,\n    target = createEvent({\n      name: \"target\",\n      sid: \"-z2vw3w\"\n    }, {\n      name: \"target\",\n      sid: \"-z2vw3w\"\n    })\n  } = _ref;\n  if (!is.unit(source)) throw new TypeError('source must be a unit from effector');\n  if (!is.unit(target)) throw new TypeError('target must be a unit from effector');\n  var ms = validateTimeout(timeout);\n  var timerFx = createEffect(_ref2 => {\n    var {\n      payload,\n      milliseconds\n    } = _ref2;\n    return new Promise(resolve => {\n      setTimeout(resolve, milliseconds, payload);\n    });\n  }, {\n    name: \"timerFx\",\n    sid: \"-584o7j\"\n  });\n  sample({\n    and: [{\n      // ms can be Store<number> | number\n      // converts object of stores or object of values to store\n      source: combine({\n        and: [{\n          milliseconds: ms\n        }],\n        or: {\n          name: \"source\",\n          sid: \"9rbdjo\"\n        }\n      }),\n      clock: source,\n      fn: (_ref3, payload) => {\n        var {\n          milliseconds\n        } = _ref3;\n        return {\n          payload,\n          milliseconds: typeof milliseconds === 'function' ? milliseconds(payload) : milliseconds\n        };\n      },\n      target: timerFx\n    }],\n    or: {\n      sid: \"-wmj29s\"\n    }\n  });\n  forward({\n    and: {\n      from: timerFx.doneData,\n      to: target\n    },\n    or: {\n      sid: \"-vsadmx\"\n    }\n  });\n  return target;\n}\n\nfunction validateTimeout(timeout) {\n  if (is.store(timeout, {\n    sid: \"-va560a\"\n  }) || typeof timeout === 'function' || typeof timeout === 'number') {\n    return timeout;\n  }\n\n  throw new TypeError(\"'timeout' argument must be a function, Store, or a number. Passed \\\"\".concat(typeof timeout, \"\\\"\"));\n}","/* eslint-disable @typescript-eslint/no-unused-vars */\nimport { combine, is } from 'effector';\nexport function every(configOrStores, predicateOrNone) {\n  var stores = [];\n\n  var predicate = () => false;\n\n  if (Array.isArray(configOrStores)) {\n    stores = configOrStores;\n    predicate = predicateOrNone;\n  } else if (Array.isArray(configOrStores.stores)) {\n    stores = configOrStores.stores;\n    predicate = configOrStores.predicate;\n  }\n\n  var checker;\n\n  if (isFunction(predicate)) {\n    checker = predicate;\n  } else if (is.store(predicate, {\n    sid: \"sid3ut\"\n  })) {\n    checker = predicate.map(value => required => value === required);\n  } else {\n    checker = value => value === predicate;\n  }\n\n  var $values = combine({\n    and: [stores],\n    or: {\n      name: \"$values\",\n      sid: \"h09uhg\"\n    }\n  }); // Combine pass simple values as is\n\n  var $checker = checker;\n  return combine({\n    and: [$checker, $values, (checker, values) => values.every(checker)],\n    or: {\n      sid: \"hfkdw9\"\n    }\n  });\n}\n\nfunction isFunction(value) {\n  return typeof value === 'function';\n}","import { combine } from 'effector';\nexport function format(strings) {\n  for (var _len = arguments.length, stores = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    stores[_key - 1] = arguments[_key];\n  }\n\n  return combine({\n    and: [stores, stores => strings.reduce((acc, value, index) => acc.concat(isLastElement(strings, index) ? value : \"\".concat(value).concat(toString(stores[index]))), '')],\n    or: {\n      sid: \"-yrbthp\"\n    }\n  });\n}\n\nfunction toString(value) {\n  if (Array.isArray(value)) {\n    return value.map(value => String(value)).join(', ');\n  }\n\n  return String(value);\n}\n\nfunction isLastElement(array, index) {\n  return index === array.length - 1;\n}","import { combine } from 'effector';\nexport function inFlight(_ref) {\n  var {\n    effects,\n    domain\n  } = _ref;\n\n  if (domain) {\n    var $inFlight = domain.createStore(0, {\n      name: \"$inFlight\",\n      sid: \"-y7vg7t\"\n    });\n    domain.onCreateEffect(fx => {\n      $inFlight.on(fx, count => count + 1).on(fx.finally, count => count - 1);\n    });\n    return $inFlight;\n  }\n\n  return combine({\n    and: [effects.map(fx => fx.inFlight), inFlights => inFlights.reduce((all, current) => all + current, 0)],\n    or: {\n      sid: \"ubqxa7\"\n    }\n  });\n}","import { createEvent, createEffect, createStore, guard, sample, attach, is } from 'effector';\nexport function interval(_ref) {\n  var {\n    timeout,\n    start,\n    stop,\n    leading = false,\n    trailing = false\n  } = _ref;\n  var tick = createEvent({\n    name: \"tick\",\n    sid: \"uo9p3s\"\n  });\n  var $isRunning = createStore(false, {\n    name: \"$isRunning\",\n    sid: \"-wxesi8\"\n  });\n  var $timeout = toStoreNumber(timeout);\n  var $notRunning = $isRunning.map(running => !running);\n  var saveTimeout = createEvent({\n    name: \"saveTimeout\",\n    sid: \"as5clk\"\n  });\n  var $timeoutId = createStore(null, {\n    name: \"$timeoutId\",\n    sid: \"-bh90bo\"\n  }).on(saveTimeout, (_, id) => id);\n  var saveReject = createEvent({\n    name: \"saveReject\",\n    sid: \"-64swis\"\n  }); // eslint-disable-next-line @typescript-eslint/no-empty-function\n\n  var $rejecter = createStore(() => {}, {\n    name: \"$rejecter\",\n    sid: \"eabbu7\"\n  }).on(saveReject, (_, rj) => rj);\n  var timeoutFx = createEffect(timeout => {\n    return new Promise((resolve, reject) => {\n      var timeoutId = setTimeout(resolve, timeout);\n      saveTimeout(timeoutId);\n      saveReject(reject);\n    });\n  }, {\n    name: \"timeoutFx\",\n    sid: \"7lc3mj\"\n  });\n  var cleanupFx = attach({\n    and: {\n      source: [$timeoutId, $rejecter],\n      effect: _ref2 => {\n        var [id, rj] = _ref2;\n        rj();\n        if (id) clearTimeout(id);\n      }\n    },\n    or: {\n      name: \"cleanupFx\",\n      sid: \"pcn5jq\"\n    }\n  });\n  guard({\n    and: [{\n      clock: start,\n      source: $timeout,\n      filter: $notRunning,\n      target: timeoutFx\n    }],\n    or: {\n      sid: \"-w5qmwp\"\n    }\n  });\n\n  if (leading) {\n    guard({\n      and: [{\n        clock: start,\n        filter: $notRunning,\n        target: tick\n      }],\n      or: {\n        sid: \"-vpslni\"\n      }\n    });\n  }\n\n  sample({\n    and: [{\n      clock: start,\n      fn: () => true,\n      target: $isRunning\n    }],\n    or: {\n      sid: \"-vaed34\"\n    }\n  });\n  guard({\n    and: [{\n      clock: timeoutFx.done,\n      source: $timeout,\n      filter: $isRunning,\n      target: timeoutFx\n    }],\n    or: {\n      sid: \"-v73liy\"\n    }\n  });\n  sample({\n    and: [{\n      clock: timeoutFx.done,\n      fn: () => {\n        /* to be sure, nothing passed to tick */\n      },\n      target: tick\n    }],\n    or: {\n      sid: \"-urpcwu\"\n    }\n  });\n\n  if (stop) {\n    if (trailing) {\n      sample({\n        and: [{\n          clock: stop,\n          target: tick\n        }],\n        or: {\n          sid: \"-uanqf7\"\n        }\n      });\n    }\n\n    $isRunning.on(stop, () => false);\n    sample({\n      and: [{\n        clock: stop,\n        target: cleanupFx\n      }],\n      or: {\n        sid: \"6lcmyy\"\n      }\n    });\n  }\n\n  return {\n    tick,\n    isRunning: $isRunning\n  };\n}\n\nfunction toStoreNumber(value) {\n  if (is.store(value, {\n    sid: \"6p7767\"\n  })) return value;\n\n  if (typeof value === 'number') {\n    return createStore(value, {\n      and: {\n        name: '$timeout'\n      },\n      sid: \"5hw6se\"\n    });\n  }\n\n  throw new TypeError(\"timeout parameter in interval method should be number or Store. \\\"\".concat(typeof value, \"\\\" was passed\"));\n}","import { combine, is } from 'effector';\nvar strategies = {\n  some: list => list.some(Boolean),\n  every: list => list.every(Boolean)\n};\nexport function pending(_ref) {\n  var {\n    effects: rawEffects,\n    domain,\n    of = 'some'\n  } = _ref;\n  if (!is.domain(domain, {\n    sid: \"97b92c\"\n  }) && !rawEffects) throw new TypeError('domain or effects should be passed');\n  if (of !== 'some' && of !== 'every') throw new TypeError(\"strategy parameter \\\"of\\\" can be \\\"every\\\" or \\\"some\\\". Passed: \\\"\".concat(of, \"\\\"\"));\n  var effects = rawEffects !== null && rawEffects !== void 0 ? rawEffects : [];\n  var strategy = strategies[of];\n\n  if (domain) {\n    effects = [];\n    domain.onCreateEffect(fx => effects.push(fx));\n  }\n\n  return combine({\n    and: [effects.map(fx => fx.pending), strategy],\n    or: {\n      sid: \"a37bj0\"\n    }\n  });\n}","export function reset(_ref) {\n  var {\n    clock,\n    target\n  } = _ref;\n  var targets = Array.isArray(target) ? target : [target];\n  var clocks = Array.isArray(clock) ? clock : [clock];\n  targets.forEach(target => {\n    target.reset.call(target, clocks);\n  });\n}","export function reshape(_ref) {\n  var {\n    source,\n    shape\n  } = _ref;\n  var result = {};\n\n  for (var key in shape) {\n    if (key in shape) {\n      (function () {\n        var fn = shape[key];\n        result[key] = source.map(state => {\n          var result = fn(state);\n          return result === undefined ? null : result;\n        });\n      })();\n    }\n  }\n\n  return result;\n}","import { createStore, sample } from 'effector';\nexport function snapshot(_ref) {\n  var {\n    source,\n    clock,\n    fn = value => value\n  } = _ref;\n  var defaultValue = fn(source.defaultState);\n  var onSnapshot = clock ? sample({\n    and: [source, clock, fn],\n    or: {\n      name: \"onSnapshot\",\n      sid: \"-auitd0\"\n    }\n  }) : sample({\n    and: [{\n      source,\n      fn\n    }],\n    or: {\n      name: \"onSnapshot\",\n      sid: \"-auir6n\"\n    }\n  });\n  var $snapshot = createStore(defaultValue, {\n    name: \"$snapshot\",\n    sid: \"-7zyoaf\"\n  });\n  $snapshot.on(onSnapshot, (_, value) => value);\n  return $snapshot;\n}","import { combine, is } from 'effector';\nexport function some(configOrStores, predicateOrNone) {\n  var stores = [];\n\n  var predicate = () => false;\n\n  if (Array.isArray(configOrStores)) {\n    stores = configOrStores;\n    predicate = predicateOrNone;\n  } else if (Array.isArray(configOrStores.stores)) {\n    stores = configOrStores.stores;\n    predicate = configOrStores.predicate;\n  }\n\n  var checker;\n\n  if (isFunction(predicate)) {\n    checker = predicate;\n  } else if (is.store(predicate, {\n    sid: \"zbwu0l\"\n  })) {\n    checker = predicate.map(value => required => value === required);\n  } else {\n    checker = value => value === predicate;\n  }\n\n  var $values = combine({\n    and: [stores],\n    or: {\n      name: \"$values\",\n      sid: \"-lv5do0\"\n    }\n  }); // Combine pass simple values as is\n\n  var $checker = checker;\n  return combine({\n    and: [$checker, $values, (checker, values) => values.some(checker)],\n    or: {\n      sid: \"-efc5w7\"\n    }\n  });\n}\n\nfunction isFunction(value) {\n  return typeof value === 'function';\n}","import { is } from 'effector';\nexport function splitMap(_ref) {\n  var {\n    source,\n    cases\n  } = _ref;\n  var result = {};\n  var current = is.store(source, {\n    name: \"current\",\n    sid: \"-htjkz7\"\n  }) ? source.updates : source;\n\n  for (var key in cases) {\n    if (key in cases) {\n      (function () {\n        var _fn = cases[key];\n        result[key] = current.filterMap(_fn);\n        current = current.filter({\n          fn: data => !_fn(data)\n        });\n      })();\n    }\n  } // eslint-disable-next-line no-underscore-dangle\n\n\n  result.__ = current;\n  return result;\n}","import { is, createEvent, guard, sample } from 'effector';\n\n/**\n * @example\n * spread({ source: dataObject, targets: { first: targetA, second: targetB } })\n * forward({\n *   to: spread({targets: { first: targetA, second: targetB } })\n * })\n */\nexport function spread(_ref) {\n  var {\n    targets,\n    source = createEvent({\n      name: \"source\",\n      sid: \"-iel8gi\"\n    }, {\n      name: \"source\",\n      sid: \"-iel8gi\"\n    })\n  } = _ref;\n\n  var _loop = function _loop(targetKey) {\n    if (targetKey in targets) {\n      var hasTargetKey = guard({\n        and: [{\n          source,\n          filter: object => typeof object === 'object' && object !== null && targetKey in object\n        }],\n        or: {\n          name: \"hasTargetKey\",\n          sid: \"-gh83lo\"\n        }\n      });\n\n      if (is.store(targets[targetKey], {\n        sid: \"jliekw\"\n      })) {\n        targets[targetKey].on(hasTargetKey, (prev, object) => object[targetKey]);\n      } else {\n        sample({\n          and: [{\n            source: hasTargetKey,\n            fn: object => object[targetKey],\n            target: targets[targetKey]\n          }],\n          or: {\n            sid: \"lnzpe6\"\n          }\n        });\n      }\n    }\n  };\n\n  for (var targetKey in targets) {\n    _loop(targetKey);\n  }\n\n  return source;\n}","import { createStore } from 'effector';\nexport function status(_ref) {\n  var {\n    effect,\n    defaultValue = 'initial'\n  } = _ref;\n  var $status = createStore(defaultValue, {\n    name: \"$status\",\n    sid: \"abrgim\"\n  });\n  $status.on(effect, () => 'pending').on(effect.done, () => 'done').on(effect.fail, () => 'fail');\n  return $status;\n}","import { createEffect, createEvent, guard, is, sample } from 'effector';\nexport function throttle(_ref) {\n  var {\n    source,\n    timeout,\n    target = createEvent({\n      name: \"target\",\n      sid: \"cenyj5\"\n    }, {\n      name: \"target\",\n      sid: \"cenyj5\"\n    })\n  } = _ref;\n  if (!is.unit(source)) throw new TypeError('source must be unit from effector');\n  if (typeof timeout !== 'number' || timeout < 0) throw new Error('timeout must be positive number or zero');\n  var timerFx = createEffect(() => new Promise(resolve => setTimeout(resolve, timeout)), {\n    name: \"timerFx\",\n    sid: \"uv7gwq\"\n  });\n  guard({\n    and: [{\n      source,\n      filter: timerFx.pending.map(pending => !pending),\n      target: timerFx\n    }],\n    or: {\n      sid: \"-iy4kn2\"\n    }\n  });\n  sample({\n    and: [{\n      source,\n      clock: timerFx.done,\n      target\n    }],\n    or: {\n      sid: \"-ija4mb\"\n    }\n  });\n  return target;\n}","import { createEffect, forward, restore } from 'effector';\n\nvar defaultNow = () => Date.now();\n\nexport function time(_ref) {\n  var {\n    clock,\n    getNow,\n    initial\n  } = _ref;\n  var timeReader = getNow !== null && getNow !== void 0 ? getNow : defaultNow;\n  var readNowFx = createEffect(timeReader, {\n    name: \"readNowFx\",\n    sid: \"459ysb\"\n  });\n  var $time = restore(readNowFx, initial !== null && initial !== void 0 ? initial : timeReader(), {\n    name: \"$time\",\n    sid: \"-ys9vce\"\n  });\n  forward({\n    and: {\n      from: clock,\n      to: readNowFx\n    },\n    or: {\n      sid: \"rdje9v\"\n    }\n  });\n  return $time;\n}"],"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_defineProperty","obj","key","value","defineProperty","configurable","writable","combineEvents","_ref","events","reset","target","createEvent","name","sid","is","unit","throwError","withRegion","defaultShape","Array","isArray","fill","$counter","createStore","length","$results","sample","and","or","_loop","$isDone","on","shape","payload","newShape","i","arguments","source","forEach","getOwnPropertyDescriptors","defineProperties","_objectSpread","guard","merge","values","map","message","Error","condition","if","test","then","thenBranch","else","elseBranch","checker","inverse","fnOrUnit","debounce","rejectPromise","timeoutId","timeout","TypeError","domain","Number","isFinite","concat","tick","timerFx","createEffect","parameter","clearTimeout","Promise","resolve","reject","setTimeout","forward","from","to","done","_ref2","result","debug","_len","units","_key","type","getType","store","effect","event","log","logEffect","onCreateEvent","onCreateStore","onCreateEffect","prefix","undefined","getName","watch","console","info","fail","compositeName","fullName","shortName","delay","ms","validateTimeout","milliseconds","combine","clock","fn","_ref3","doneData","every","configOrStores","predicateOrNone","stores","predicate","required","$values","format","strings","reduce","acc","index","isLastElement","toString","String","join","array","inFlight","effects","$inFlight","fx","count","finally","inFlights","all","current","interval","start","stop","leading","trailing","$isRunning","$timeout","toStoreNumber","$notRunning","running","saveTimeout","$timeoutId","_","id","saveReject","$rejecter","rj","timeoutFx","cleanupFx","attach","isRunning","strategies","some","list","Boolean","pending","rawEffects","of","strategy","targets","clocks","call","reshape","state","snapshot","defaultValue","defaultState","onSnapshot","$snapshot","splitMap","cases","updates","_fn","filterMap","data","__","spread","targetKey","hasTargetKey","prev","status","$status","throttle","defaultNow","Date","now","time","getNow","initial","timeReader","readNowFx","$time","restore"],"mappings":"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"}