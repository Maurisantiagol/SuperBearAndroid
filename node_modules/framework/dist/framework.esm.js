function e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((t=>Object.getOwnPropertyDescriptor(e,t).enumerable))),r.push.apply(r,a)}return r}function t(t){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?e(Object(n),1).forEach((e=>{r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e(Object(n)).forEach((e=>{Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function r(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:1,configurable:1,writable:1}):e[t]=r,e}function a(e=$){var t,r,a;let n,o;u.domain(e,{sid:"d6uzry"})?(n=e,o={}):u.domain(e.domain,{sid:"-fuus8v"})?(n=e.domain,o=e):(n=$,o={});const i=n.createStore(Boolean(0),{name:"$opened",sid:"nsf3zm"}),c=n.createStore({},{name:"$params",sid:"7jlluc"}),s=n.createStore({},{name:"$query",sid:"-h3y3q"}),d={enter:null!==(t=o.enter)&&void 0!==t?t:n.createEvent({name:"enter",sid:"-hoeep"}),update:null!==(r=o.update)&&void 0!==r?r:n.createEvent({name:"update",sid:"-e6k2lh"}),exit:null!==(a=o.exit)&&void 0!==a?a:n.createEvent({name:"exit",sid:"36qrk9"}),$opened:i,$params:c,$query:s,$props:f({and:[{params:c,query:s}],or:{name:"$props",sid:"-kba9zb"}})};return c.on([d.enter,d.update],((e,{params:t})=>t)),s.on([d.enter,d.update],((e,{query:t})=>t)),d.$opened.on(d.enter,(()=>Boolean(1))).reset(d.exit),d}function n(e,t){return t[w]=e,t}function o(e){return e[w]}function i(e){if(e.route.component)return o(e.route.component)}function c(e){const r=e.domain||$,a=((e,{emitHistory:t=0,trackRedirects:r=0}={})=>{const a='undefined'!=typeof document?v():E(),n=e.createEffect((()=>{}),{name:"historyPush",sid:"ph1zyv"}),o=e.createEffect((()=>{}),{name:"historyPushSearch",sid:"yxzraw"}),i=e.createEffect((()=>{}),{name:"historyReplace",sid:"-pcfgpo"}),c=e.createEvent({name:"historyChanged",sid:"-yqk2kz"}),s=e.createEvent({name:"historyEmitCurrent",sid:"nhk4d5"}),d=e.createStore('',{name:"$redirectTo",sid:"581zmv"});return p({and:[{clock:s,fn:()=>({action:'REPLACE',hash:a.location.hash,pathname:a.location.pathname,search:a.location.search}),target:c}],or:{sid:"km8cdb"}}),t&&(n.use((e=>a.push(e))),i.use((e=>a.replace(e))),o.use((e=>a.push({search:e}))),s.watch((()=>{let e;try{e=l(c)}catch(t){e=e=>c(e)}a.listen((({pathname:t,search:r,hash:a},n)=>{e({pathname:t,search:r,hash:a,action:n})}))}))),r&&(d.on([n,i],((e,t)=>t)),t&&d.on(c,((e,{pathname:t,search:r})=>`${t}?${r}`))),{history:a,historyPush:n,historyPushSearch:o,historyReplace:i,historyChanged:c,historyEmitCurrent:s,$redirectTo:d}})(r,{emitHistory:1});y({and:{from:e.ready,to:a.historyEmitCurrent},or:{sid:"-yp3wn8"}});const n=a.historyChanged.filterMap((r=>{const a=d(e.routes,r.pathname);if(a.length>0)return t(t({},a[0]),{},{change:r})}));for(const{component:t,path:a}of e.routes){if(!t)continue;if(t.load)throw new Error(`[${a}] lazy components temporary is not supported. Please, remove loadable() call`);const{routeMatched:e,__:i}=g({source:n,cases:{routeMatched:({route:e,match:t,change:r})=>{if(e.path===a)return{params:t.params,query:Object.fromEntries(new URLSearchParams(r.search))}}}}),c=r.createEvent({name:`hatchEnter:${a}`},{name:"hatchEnter",sid:"-e9ffs9"}),s=r.createEvent({name:`hatchUpdate:${a}`},{name:"hatchUpdate",sid:"y0vldw"}),d=r.createEvent({name:`hatchExit:${a}`},{name:"hatchExit",sid:"-733nio"}),m=o(t);m&&(y({and:{from:c,to:m.enter},or:{sid:"-we2yy9"}}),y({and:{from:s,to:m.update},or:{sid:"-wdj6cw"}}),y({and:{from:d,to:m.exit},or:{sid:"-wczdrj"}}));const h=r.createStore(0,{and:{name:`$onRoute:${a}`},name:"$onRoute",sid:"ly7iyy"}),u=r.createStore(0,{and:{name:`$onPage:${a}`},name:"$onPage",sid:"kdm6x2"});h.on(e,(()=>1)),b({and:[{clock:e,filter:u,target:s}],or:{sid:"-vuadmz"}}),b({and:[{clock:e,filter:f({and:[u,h,(e,t)=>!e&&t],or:{name:"filter",sid:"8acmah"}}),target:c}],or:{sid:"-vffxm8"}}),u.on(c,(()=>1)),h.on(i,(()=>0)),b({and:[{clock:i,filter:u,target:d}],or:{sid:"-uxaq1b"}}),u.on(d,(()=>0))}return{navigation:a}}function s(e){for(const t in e.page){const r=e.page[t],a=e.model[t];r&&a&&u.unit(r)&&u.unit(a)&&(u.store(r,{sid:"xrdgy2"})&&u.store(a,{sid:"xrdih6"})?(y({and:{from:a,to:r},or:{sid:"m1otzj"}}),r.defaultState=a.defaultState,r.stateRef.current=a.stateRef.current,r.stateRef.before=[{type:'map',fn:e=>e,from:a.stateRef}]):y({and:{from:r,to:a},or:{sid:"n1fgk0"}}))}}export{default as loadable}from'@loadable/component';import{matchRoutes as d,renderRoutes as m}from'react-router-config';import{createDomain as h,is as u,combine as f,sample as p,scopeBind as l,forward as y,guard as b}from'effector';import{splitMap as g}from'patronum';import{createBrowserHistory as v,createMemoryHistory as E}from'history';const $=h('framework/default',{name:"defaultDomain",sid:"-tzcbvc"}),w='framework/page-hatch',O=e=>m(e);export{s as contract,c as createBrowserApplication,a as createHatch,O as createPages,o as getHatch,i as lookupHatch,n as withHatch};
//# sourceMappingURL=framework.esm.js.map
